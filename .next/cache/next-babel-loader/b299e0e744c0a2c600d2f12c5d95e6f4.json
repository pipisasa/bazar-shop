{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/pipi/Documents/pr/shop/pages/profile.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Modal } from '@redq/reuse-modal';\nimport { GET_LOGGED_IN_CUSTOMER } from 'graphql/query/customer.query';\nimport { ProfileProvider } from 'contexts/profile/profile.provider';\nimport SettingsContent from 'containers/Profile/Settings/Settings';\nimport { PageWrapper, SidebarSection, ContentBox } from 'containers/Profile/Profile.style';\nimport Sidebar from 'containers/Profile/Sidebar/Sidebar';\nimport { SEO } from 'components/seo';\nimport SiteFooter from 'components/SiteFooter/SiteFooter';\nimport { FormattedMessage } from 'react-intl';\nimport { withApollo } from 'helper/apollo'; // import { AuthContext } from 'contexts/auth/auth.context';\n\nimport Router, { useRouter } from 'next/router';\nimport { LoaderWrapper } from 'components/Loader/Loader';\nimport { getLocalState } from 'helper/localStorage';\n\n// const me = {\n//   id: 1,\n//   firstName: \"Jhon Doe\",\n//   lastName: \"Smith\",\n//   email: \"jhondDoe@demo.com\",\n//   address: [\n//     {\n//       id: \"12312\",\n//       Type: \"secondary\",\n//       name: \"Home\",\n//       info: \"27 Street, 2569 Heritage Road Visalia, CA 93291\"\n//     },\n//     {\n//       id: \"23423\",\n//       Type: \"primary\",\n//       name: \"Office\",\n//       info: \"33 Baker Street, Crescent Road, CA 65746\"\n//     }\n//   ],\n//   contacts: [\n//     {\n//       id: \"88234\",\n//       Type: \"primary\",\n//       number: \"202-555-0191\"\n//     },\n//     {\n//       id: \"23439\",\n//       Type: \"secondary\",\n//       number: \"202-555-0701\"\n//     }\n//   ],\n//   cards: [\n//     {\n//       id: \"179012\",\n//       Type: \"primary\",\n//       cardType: \"paypal\",\n//       firstName: \"Jhon Doe\",\n//       lastName: \"Smith\",\n//       lastFourDigit: 2349\n//     },\n//     {\n//       id: \"987234\",\n//       Type: \"secondary\",\n//       cardType: \"master\",\n//       firstName: \"Jhon Doe\",\n//       lastName: \"Smith\",\n//       lastFourDigit: 8724\n//     },\n//     {\n//       id: \"424987\",\n//       Type: \"secondary\",\n//       cardType: \"visa\",\n//       firstName: \"Jhon Doe\",\n//       lastName: \"Smith\",\n//       lastFourDigit: 4535\n//     },\n//     {\n//       id: \"455599\",\n//       Type: \"secondary\",\n//       cardType: \"visa\",\n//       firstName: \"Jhon Doe\",\n//       lastName: \"Smith\",\n//       lastFourDigit: 4585\n//     }\n//   ]\n// }\nvar ProfilePage = function ProfilePage(_ref) {\n  _s();\n\n  var deviceType = _ref.deviceType;\n\n  var _useQuery = useQuery(GET_LOGGED_IN_CUSTOMER),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      loading = _useQuery.loading;\n\n  var _useState = useState(false),\n      logout = _useState[0],\n      setLogout = _useState[1];\n\n  var router = useRouter();\n  React.useEffect(function () {\n    if (error) {\n      router.push('/logout');\n    }\n  }, [error]); // const { data, error, loading } = {data:{me}, error:null, loading: false}\n\n  if (loading) {\n    return __jsx(LoaderWrapper, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (error) {\n    if (!getLocalState(\"access_token\")) {\n      Router.push('/checkout-anonimus');\n      return null;\n    }\n\n    Router.push('/logout');\n    return null;\n  }\n\n  return __jsx(React.Fragment, null, __jsx(SEO, {\n    title: \"Profile - PickBazar\",\n    description: \"Profile Details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }), __jsx(ProfileProvider, {\n    initData: data.me,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, __jsx(Modal, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, __jsx(PageWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, __jsx(SidebarSection, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, __jsx(Sidebar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  })), __jsx(ContentBox, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, __jsx(SettingsContent, {\n    deviceType: deviceType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  })), __jsx(SiteFooter, {\n    style: {\n      marginTop: 50\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"siteFooter\",\n    defaultMessage: \"Pickbazar is a product of\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }), \"\\xA0 \", __jsx(Link, {\n    href: \"#\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 22\n    }\n  }, \" Redq, Inc.\"))))));\n};\n\n_s(ProfilePage, \"dAWM4O8Ni8NPWp3lkJSxSzZIahI=\", false, function () {\n  return [useQuery, useRouter];\n});\n\n_c = ProfilePage;\nexport default _c2 = withApollo(ProfilePage);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ProfilePage\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/pipi/Documents/pr/shop/pages/profile.tsx"],"names":["React","useState","Link","useQuery","Modal","GET_LOGGED_IN_CUSTOMER","ProfileProvider","SettingsContent","PageWrapper","SidebarSection","ContentBox","Sidebar","SEO","SiteFooter","FormattedMessage","withApollo","Router","useRouter","LoaderWrapper","getLocalState","ProfilePage","deviceType","data","error","loading","logout","setLogout","router","useEffect","push","me","marginTop"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { NextPage } from 'next';\nimport Link from 'next/link';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { Modal } from '@redq/reuse-modal';\nimport { GET_LOGGED_IN_CUSTOMER } from 'graphql/query/customer.query';\nimport { ProfileProvider } from 'contexts/profile/profile.provider';\nimport SettingsContent from 'containers/Profile/Settings/Settings';\nimport {\n  PageWrapper,\n  SidebarSection,\n  ContentBox,\n} from 'containers/Profile/Profile.style';\nimport Sidebar from 'containers/Profile/Sidebar/Sidebar';\nimport { SEO } from 'components/seo';\nimport SiteFooter from 'components/SiteFooter/SiteFooter';\nimport { FormattedMessage } from 'react-intl';\nimport { withApollo } from 'helper/apollo';\n// import { AuthContext } from 'contexts/auth/auth.context';\nimport Router, { useRouter } from 'next/router';\nimport { LoaderWrapper } from 'components/Loader/Loader';\nimport { getLocalState } from 'helper/localStorage';\n\ntype Props = {\n  deviceType?: {\n    mobile: boolean;\n    tablet: boolean;\n    desktop: boolean;\n  };\n};\n// const me = {\n//   id: 1,\n//   firstName: \"Jhon Doe\",\n//   lastName: \"Smith\",\n//   email: \"jhondDoe@demo.com\",\n//   address: [\n//     {\n//       id: \"12312\",\n//       Type: \"secondary\",\n//       name: \"Home\",\n//       info: \"27 Street, 2569 Heritage Road Visalia, CA 93291\"\n//     },\n//     {\n//       id: \"23423\",\n//       Type: \"primary\",\n//       name: \"Office\",\n//       info: \"33 Baker Street, Crescent Road, CA 65746\"\n//     }\n//   ],\n//   contacts: [\n//     {\n//       id: \"88234\",\n//       Type: \"primary\",\n//       number: \"202-555-0191\"\n//     },\n//     {\n//       id: \"23439\",\n//       Type: \"secondary\",\n//       number: \"202-555-0701\"\n//     }\n//   ],\n//   cards: [\n//     {\n//       id: \"179012\",\n//       Type: \"primary\",\n//       cardType: \"paypal\",\n//       firstName: \"Jhon Doe\",\n//       lastName: \"Smith\",\n//       lastFourDigit: 2349\n//     },\n//     {\n//       id: \"987234\",\n//       Type: \"secondary\",\n//       cardType: \"master\",\n//       firstName: \"Jhon Doe\",\n//       lastName: \"Smith\",\n//       lastFourDigit: 8724\n//     },\n//     {\n//       id: \"424987\",\n//       Type: \"secondary\",\n//       cardType: \"visa\",\n//       firstName: \"Jhon Doe\",\n//       lastName: \"Smith\",\n//       lastFourDigit: 4535\n//     },\n//     {\n//       id: \"455599\",\n//       Type: \"secondary\",\n//       cardType: \"visa\",\n//       firstName: \"Jhon Doe\",\n//       lastName: \"Smith\",\n//       lastFourDigit: 4585\n//     }\n//   ]\n// }\nconst ProfilePage: NextPage<Props> = ({ deviceType }) => {\n  const { data, error, loading } = useQuery(GET_LOGGED_IN_CUSTOMER);\n  const [logout, setLogout] = useState(false);\n  const router = useRouter();\n  React.useEffect(() => {\n    if(error){\n      router.push('/logout');\n    }\n  },[error]);\n  // const { data, error, loading } = {data:{me}, error:null, loading: false}\n  if (loading) {\n    return <LoaderWrapper/>;\n  }\n  if(error) {\n    if(!getLocalState(\"access_token\")){\n      Router.push('/checkout-anonimus');\n      return null;\n    }\n    Router.push('/logout');\n    return null;\n  }\n  return (\n    <>\n      <SEO title='Profile - PickBazar' description='Profile Details' />\n      <ProfileProvider initData={data.me}>\n        <Modal>\n          <PageWrapper>\n            <SidebarSection>\n              <Sidebar />\n            </SidebarSection>\n            <ContentBox>\n              <SettingsContent deviceType={deviceType} />\n            </ContentBox>\n\n            <SiteFooter style={{ marginTop: 50 }}>\n              <FormattedMessage\n                id='siteFooter'\n                defaultMessage='Pickbazar is a product of'\n              />\n              &nbsp; <Link href='#'> Redq, Inc.</Link>\n            </SiteFooter>\n          </PageWrapper>\n        </Modal>\n      </ProfileProvider>\n    </>\n  );\n};\n\nexport default withApollo(ProfilePage);"]},"metadata":{},"sourceType":"module"}