{"ast":null,"code":"var _jsxFileName = \"/home/roma/Documents/shop/containers/Banner/Banner.tsx\";\nvar __jsx = React.createElement;\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useContext, useCallback } from 'react';\nimport { useRouter } from 'next/router';\nimport { SearchContext } from 'contexts/search/search.context';\nimport { useStickyDispatch } from 'contexts/app/app.provider';\nimport { BannerWrapper } from './Banner.style';\n\nconst Banner = ({\n  imageUrl,\n  intlTitleId,\n  intlDescriptionId\n}) => {\n  const {\n    state,\n    dispatch\n  } = useContext(SearchContext);\n  const router = useRouter(); // const { text } = state;\n\n  const {\n    pathname\n  } = router;\n\n  const handleSearchInput = text => {\n    dispatch({\n      type: 'UPDATE',\n      payload: _objectSpread(_objectSpread({}, state), {}, {\n        text\n      })\n    });\n  };\n\n  function handleClickSearchButton() {\n    const {\n      page\n    } = state,\n          urlState = _objectWithoutProperties(state, [\"page\"]);\n\n    router.push({\n      pathname: pathname,\n      query: _objectSpread({}, urlState)\n    }, {\n      pathname: pathname === '/' ? `${pathname}grocery` : pathname,\n      query: _objectSpread({}, urlState)\n    }, {\n      shallow: true\n    });\n  }\n\n  const useDispatch = useStickyDispatch();\n  const setSticky = useCallback(() => useDispatch({\n    type: 'SET_STICKY'\n  }), [useDispatch]);\n  const removeSticky = useCallback(() => useDispatch({\n    type: 'REMOVE_STICKY'\n  }), [useDispatch]);\n\n  const onWaypointPositionChange = ({\n    currentPosition\n  }) => {\n    if (!currentPosition || currentPosition === 'above') {\n      setSticky();\n    }\n  };\n\n  return __jsx(BannerWrapper, {\n    style: {\n      backgroundImage: `url(${imageUrl})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  });\n};\n\nexport default Banner;","map":{"version":3,"sources":["/home/roma/Documents/shop/containers/Banner/Banner.tsx"],"names":["React","useContext","useCallback","useRouter","SearchContext","useStickyDispatch","BannerWrapper","Banner","imageUrl","intlTitleId","intlDescriptionId","state","dispatch","router","pathname","handleSearchInput","text","type","payload","handleClickSearchButton","page","urlState","push","query","shallow","useDispatch","setSticky","removeSticky","onWaypointPositionChange","currentPosition","backgroundImage"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,WAA5B,QAA+C,OAA/C;AACA,SAASC,SAAT,QAA0B,aAA1B;AAGA,SAASC,aAAT,QAA8B,gCAA9B;AACA,SAASC,iBAAT,QAAkC,2BAAlC;AAEA,SACEC,aADF,QAKO,gBALP;;AAaA,MAAMC,MAA6B,GAAG,CAAC;AACrCC,EAAAA,QADqC;AAErCC,EAAAA,WAFqC;AAGrCC,EAAAA;AAHqC,CAAD,KAIhC;AACJ,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBX,UAAU,CAACG,aAAD,CAAtC;AACA,QAAMS,MAAM,GAAGV,SAAS,EAAxB,CAFI,CAGJ;;AAEA,QAAM;AAAEW,IAAAA;AAAF,MAAeD,MAArB;;AAEA,QAAME,iBAAiB,GAAIC,IAAD,IAAkB;AAC1CJ,IAAAA,QAAQ,CAAC;AACPK,MAAAA,IAAI,EAAE,QADC;AAEPC,MAAAA,OAAO,kCACFP,KADE;AAELK,QAAAA;AAFK;AAFA,KAAD,CAAR;AAOD,GARD;;AAUA,WAASG,uBAAT,GAAmC;AACjC,UAAM;AAAEC,MAAAA;AAAF,QAAwBT,KAA9B;AAAA,UAAiBU,QAAjB,4BAA8BV,KAA9B;;AAEAE,IAAAA,MAAM,CAACS,IAAP,CACE;AACER,MAAAA,QAAQ,EAAEA,QADZ;AAEES,MAAAA,KAAK,oBAAOF,QAAP;AAFP,KADF,EAKE;AACEP,MAAAA,QAAQ,EAAEA,QAAQ,KAAK,GAAb,GAAoB,GAAEA,QAAS,SAA/B,GAA0CA,QADtD;AAEES,MAAAA,KAAK,oBAAOF,QAAP;AAFP,KALF,EASE;AAAEG,MAAAA,OAAO,EAAE;AAAX,KATF;AAWD;;AACD,QAAMC,WAAW,GAAGpB,iBAAiB,EAArC;AACA,QAAMqB,SAAS,GAAGxB,WAAW,CAAC,MAAMuB,WAAW,CAAC;AAAER,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAlB,EAA4C,CACvEQ,WADuE,CAA5C,CAA7B;AAGA,QAAME,YAAY,GAAGzB,WAAW,CAC9B,MAAMuB,WAAW,CAAC;AAAER,IAAAA,IAAI,EAAE;AAAR,GAAD,CADa,EAE9B,CAACQ,WAAD,CAF8B,CAAhC;;AAKA,QAAMG,wBAAwB,GAAG,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAyB;AACxD,QAAI,CAACA,eAAD,IAAoBA,eAAe,KAAK,OAA5C,EAAqD;AACnDH,MAAAA,SAAS;AACV;AACF,GAJD;;AAMA,SACE,MAAC,aAAD;AACE,IAAA,KAAK,EAAE;AACLI,MAAAA,eAAe,EAAG,OAAMtB,QAAS;AAD5B,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AA0CD,CA7FD;;AA8FA,eAAeD,MAAf","sourcesContent":["import React, { useContext, useCallback } from 'react';\nimport { useRouter } from 'next/router';\nimport { Waypoint } from 'react-waypoint';\nimport SearchBox from 'components/SearchBox/SearchBox';\nimport { SearchContext } from 'contexts/search/search.context';\nimport { useStickyDispatch } from 'contexts/app/app.provider';\nimport { FormattedMessage } from 'react-intl';\nimport {\n  BannerWrapper,\n  BannerHeading,\n  BannerSubHeading,\n  BannerComponent,\n} from './Banner.style';\n\ntype BannerProps = {\n  imageUrl: string;\n  intlTitleId: string;\n  intlDescriptionId: string;\n};\n\nconst Banner: React.FC<BannerProps> = ({\n  imageUrl,\n  intlTitleId,\n  intlDescriptionId,\n}) => {\n  const { state, dispatch } = useContext(SearchContext);\n  const router = useRouter();\n  // const { text } = state;\n\n  const { pathname } = router;\n\n  const handleSearchInput = (text: string) => {\n    dispatch({\n      type: 'UPDATE',\n      payload: {\n        ...state,\n        text,\n      },\n    });\n  };\n\n  function handleClickSearchButton() {\n    const { page, ...urlState } = state;\n\n    router.push(\n      {\n        pathname: pathname,\n        query: { ...urlState },\n      },\n      {\n        pathname: pathname === '/' ? `${pathname}grocery` : pathname,\n        query: { ...urlState },\n      },\n      { shallow: true }\n    );\n  }\n  const useDispatch = useStickyDispatch();\n  const setSticky = useCallback(() => useDispatch({ type: 'SET_STICKY' }), [\n    useDispatch,\n  ]);\n  const removeSticky = useCallback(\n    () => useDispatch({ type: 'REMOVE_STICKY' }),\n    [useDispatch]\n  );\n\n  const onWaypointPositionChange = ({ currentPosition }) => {\n    if (!currentPosition || currentPosition === 'above') {\n      setSticky();\n    }\n  };\n\n  return (\n    <BannerWrapper\n      style={{\n        backgroundImage: `url(${imageUrl})`,\n      }}\n    >\n      {/* <BannerComponent>\n        <BannerHeading>\n          <FormattedMessage\n            id={intlTitleId}\n            defaultMessage='Set Your Title Through Language File'\n            values={{ minute: 90 }}\n          />\n        </BannerHeading>\n        <BannerSubHeading>\n          <FormattedMessage\n            id={intlDescriptionId}\n            defaultMessage='Set Your Description Through Language File'\n          />\n        </BannerSubHeading>\n\n        <SearchBox\n          style={{\n            width: 700,\n            boxShadow: '0 21px 36px rgba(0,0,0,0.05)',\n            borderRadius: '6px',\n            overflow: 'hidden',\n          }}\n          handleSearch={(value: string) => handleSearchInput(value)}\n          value={state.text || ''}\n          onClick={handleClickSearchButton}\n          className='banner-search'\n          pathname={pathname}\n        />\n        <Waypoint\n          onEnter={removeSticky}\n          onLeave={setSticky}\n          onPositionChange={onWaypointPositionChange}\n        />\n      </BannerComponent> */}\n    </BannerWrapper>\n  );\n};\nexport default Banner;\n"]},"metadata":{},"sourceType":"module"}