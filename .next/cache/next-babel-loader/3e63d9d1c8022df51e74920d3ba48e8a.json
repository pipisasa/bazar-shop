{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$(),\n    _this = this,\n    _jsxFileName = \"/Users/pipi/Documents/pr/react_apps/shop/contexts/cart/use-cart.tsx\",\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useReducer, useContext, createContext } from 'react';\nimport { reducer, cartItemsTotalPrice } from './cart.reducer';\nimport { getLocalState } from 'helper/localStorage'; // import { useStorage } from 'helper/use-storage';\n\nvar CartContext = createContext({});\nexport var getLocalCart = function getLocalCart() {\n  return getLocalState(\"cart\") ? getLocalState(\"cart\") : [];\n}; // console.log(getLocalCart())\n\nvar INITIAL_STATE = {\n  isOpen: false,\n  items: [{\n    \"id\": \"11\",\n    \"slug\": \"skechers-kallen-fleece-jog-pant\",\n    \"title\": \"Skechers Kallen Fleece Jog Pant\",\n    \"description\": \"Brown Yogi High Rise 7/8 tights from Nimble Activewear featuring a high waist, a fitted silhouette, a lightunit construction and a cropped length.\",\n    \"Type\": {\n      \"id\": \"3\",\n      \"title\": \"Men\",\n      \"slug\": \"men\",\n      \"__typename\": \"TypesType\"\n    },\n    \"category\": {\n      \"id\": \"5\",\n      \"title\": \"Chinos\",\n      \"slug\": \"chinos\",\n      \"parent\": {\n        \"id\": \"4\",\n        \"title\": \"Pants\",\n        \"slug\": \"pants\",\n        \"__typename\": \"CategoryType\"\n      },\n      \"__typename\": \"CategoryType\"\n    },\n    \"unit\": null,\n    \"price\": 30,\n    \"salePrice\": 21,\n    \"discountPercent\": 30,\n    \"createdAt\": \"2020-08-15T18:00:27.202845+00:00\",\n    \"images\": [{\n      \"image\": \"product_images/2443228885/2443228885.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }, {\n      \"image\": \"product_images/1290322913/1290322913.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }, {\n      \"image\": \"product_images/2581213649/2581213649.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }],\n    \"__typename\": \"ProductType\",\n    \"discountInPercent\": 30,\n    \"quantity\": 1\n  }, {\n    \"id\": \"12\",\n    \"slug\": \"fold-over-collar-plain-blazers\",\n    \"title\": \"Fold Over Collar Plain Blazers\",\n    \"description\": \"Black bandhgala, has a mandarin collar, a full button placket, long sleeves, three pockets, double vented back hem, and has an attached lining\",\n    \"Type\": {\n      \"id\": \"3\",\n      \"title\": \"Men\",\n      \"slug\": \"men\",\n      \"__typename\": \"TypesType\"\n    },\n    \"category\": {\n      \"id\": \"7\",\n      \"title\": \"Blazer\",\n      \"slug\": \"blazer\",\n      \"parent\": {\n        \"id\": \"6\",\n        \"title\": \"Outer Wear\",\n        \"slug\": \"outer-wear\",\n        \"__typename\": \"CategoryType\"\n      },\n      \"__typename\": \"CategoryType\"\n    },\n    \"unit\": null,\n    \"price\": 105,\n    \"salePrice\": 84,\n    \"discountPercent\": 20,\n    \"createdAt\": \"2020-08-15T18:02:49.192265+00:00\",\n    \"images\": [{\n      \"image\": \"product_images/2291892958/2291892958.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }, {\n      \"image\": \"product_images/3558882712/3558882712.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }, {\n      \"image\": \"product_images/1986299311/1986299311.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }],\n    \"__typename\": \"ProductType\",\n    \"discountInPercent\": 20,\n    \"quantity\": 1\n  }, {\n    \"id\": \"14\",\n    \"slug\": \"forever-21-solid-bodycon-midi-dress\",\n    \"title\": \"Forever 21 Solid Bodycon Midi Dress\",\n    \"description\": \"Grey solid woven bodycon dress, has a round neck, sleeveless, straight hem\",\n    \"Type\": {\n      \"id\": \"6\",\n      \"title\": \"Women\",\n      \"slug\": \"women\",\n      \"__typename\": \"TypesType\"\n    },\n    \"category\": {\n      \"id\": \"9\",\n      \"title\": \"Floral\",\n      \"slug\": \"floral\",\n      \"parent\": {\n        \"id\": \"8\",\n        \"title\": \"Women Dress\",\n        \"slug\": \"women-dress\",\n        \"__typename\": \"CategoryType\"\n      },\n      \"__typename\": \"CategoryType\"\n    },\n    \"unit\": null,\n    \"price\": 185,\n    \"salePrice\": null,\n    \"discountPercent\": null,\n    \"createdAt\": \"2020-08-15T18:06:47.720626+00:00\",\n    \"images\": [{\n      \"image\": \"product_images/1662630286/1662630286.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }, {\n      \"image\": \"product_images/831761917/831761917.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }, {\n      \"image\": \"product_images/3808339318/3808339318.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }],\n    \"__typename\": \"ProductType\",\n    \"discountInPercent\": null,\n    \"quantity\": 1\n  }, {\n    \"id\": \"13\",\n    \"slug\": \"solid-notch-lapel-single-button-long-sleeve-blazer\",\n    \"title\": \"Solid Notch Lapel Single Button Long Sleeve Blazer\",\n    \"description\": \"Black bandhgala, has a mandarin collar, a full button placket, long sleeves, three pockets, double vented back hem, and has an attached lining\",\n    \"Type\": {\n      \"id\": \"3\",\n      \"title\": \"Men\",\n      \"slug\": \"men\",\n      \"__typename\": \"TypesType\"\n    },\n    \"category\": {\n      \"id\": \"7\",\n      \"title\": \"Blazer\",\n      \"slug\": \"blazer\",\n      \"parent\": {\n        \"id\": \"6\",\n        \"title\": \"Outer Wear\",\n        \"slug\": \"outer-wear\",\n        \"__typename\": \"CategoryType\"\n      },\n      \"__typename\": \"CategoryType\"\n    },\n    \"unit\": null,\n    \"price\": 150,\n    \"salePrice\": null,\n    \"discountPercent\": null,\n    \"createdAt\": \"2020-08-15T18:04:17.316379+00:00\",\n    \"images\": [{\n      \"image\": \"product_images/3800015785/3800015785.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }, {\n      \"image\": \"product_images/164307905/164307905.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }, {\n      \"image\": \"product_images/1688860956/1688860956.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }],\n    \"__typename\": \"ProductType\",\n    \"discountInPercent\": null,\n    \"quantity\": 1\n  }, {\n    \"id\": \"10\",\n    \"slug\": \"vero-moda-coco-wide-pant\",\n    \"title\": \"Vero Moda Coco Wide Pant\",\n    \"description\": \"Indigo blue cotton mid rise denim shorts from Levi's featuring a waistband with belt loops, a button and zip fly, an unfinished hem and a five pocket design.\",\n    \"Type\": {\n      \"id\": \"3\",\n      \"title\": \"Men\",\n      \"slug\": \"men\",\n      \"__typename\": \"TypesType\"\n    },\n    \"category\": {\n      \"id\": \"5\",\n      \"title\": \"Chinos\",\n      \"slug\": \"chinos\",\n      \"parent\": {\n        \"id\": \"4\",\n        \"title\": \"Pants\",\n        \"slug\": \"pants\",\n        \"__typename\": \"CategoryType\"\n      },\n      \"__typename\": \"CategoryType\"\n    },\n    \"unit\": null,\n    \"price\": 45,\n    \"salePrice\": 36,\n    \"discountPercent\": 20,\n    \"createdAt\": \"2020-08-15T17:59:17.519620+00:00\",\n    \"images\": [{\n      \"image\": \"product_images/778758193/778758193.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }, {\n      \"image\": \"product_images/313453614/313453614.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }, {\n      \"image\": \"product_images/2271300633/2271300633.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }],\n    \"__typename\": \"ProductType\",\n    \"discountInPercent\": 20,\n    \"quantity\": 1\n  }, {\n    \"id\": \"15\",\n    \"slug\": \"dorothy-perkins-self-striped-a-line-dress\",\n    \"title\": \"Dorothy Perkins Self Striped A Line Dress\",\n    \"description\": \"Rust red self-striped knitted A-line dress, has a V-neck with button detailing, three-quarter sleeves, flared hem\",\n    \"Type\": {\n      \"id\": \"6\",\n      \"title\": \"Women\",\n      \"slug\": \"women\",\n      \"__typename\": \"TypesType\"\n    },\n    \"category\": {\n      \"id\": \"10\",\n      \"title\": \"Single Color\",\n      \"slug\": \"single-color\",\n      \"parent\": {\n        \"id\": \"8\",\n        \"title\": \"Women Dress\",\n        \"slug\": \"women-dress\",\n        \"__typename\": \"CategoryType\"\n      },\n      \"__typename\": \"CategoryType\"\n    },\n    \"unit\": null,\n    \"price\": 125,\n    \"salePrice\": null,\n    \"discountPercent\": null,\n    \"createdAt\": \"2020-08-15T18:09:14.444349+00:00\",\n    \"images\": [{\n      \"image\": \"product_images/1798100657/1798100657.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }, {\n      \"image\": \"product_images/1247446864/1247446864.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }, {\n      \"image\": \"product_images/1580424752/1580424752.jpg\",\n      \"__typename\": \"ProductImageNode\"\n    }],\n    \"__typename\": \"ProductType\",\n    \"discountInPercent\": null,\n    \"quantity\": 1\n  }],\n  coupon: null\n};\n\nvar useCartActions = function useCartActions() {\n  _s();\n\n  var _state$items3;\n\n  var initialCart = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n\n  var _useReducer = useReducer(reducer, initialCart),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var addItemHandler = function addItemHandler(item) {\n    var quantity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    dispatch({\n      type: 'ADD_ITEM',\n      payload: _objectSpread(_objectSpread({}, item), {}, {\n        quantity: quantity\n      })\n    });\n  };\n\n  var refreshCart = function refreshCart() {\n    return dispatch({\n      type: \"REFRESH_CART\"\n    });\n  };\n\n  var removeItemHandler = function removeItemHandler(item) {\n    var quantity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    dispatch({\n      type: 'REMOVE_ITEM',\n      payload: _objectSpread(_objectSpread({}, item), {}, {\n        quantity: quantity\n      })\n    });\n  };\n\n  var clearItemFromCartHandler = function clearItemFromCartHandler(item) {\n    dispatch({\n      type: 'CLEAR_ITEM_FROM_CART',\n      payload: item\n    });\n  };\n\n  var clearCartHandler = function clearCartHandler() {\n    dispatch({\n      type: 'CLEAR_CART'\n    });\n  };\n\n  var toggleCartHandler = function toggleCartHandler() {\n    dispatch({\n      type: 'TOGGLE_CART'\n    });\n  };\n\n  var couponHandler = function couponHandler(coupon) {\n    dispatch({\n      type: 'APPLY_COUPON',\n      payload: coupon\n    });\n  };\n\n  var removeCouponHandler = function removeCouponHandler() {\n    dispatch({\n      type: 'REMOVE_COUPON'\n    });\n  };\n\n  var rehydrateLocalState = function rehydrateLocalState(payload) {\n    dispatch({\n      type: 'REHYDRATE',\n      payload: payload\n    });\n  };\n\n  var isInCartHandler = function isInCartHandler(id) {\n    var _state$items;\n\n    return (_state$items = state.items) === null || _state$items === void 0 ? void 0 : _state$items.some(function (item) {\n      return item.id === id;\n    });\n  };\n\n  var getItemHandler = function getItemHandler(id) {\n    var _state$items2;\n\n    return (_state$items2 = state.items) === null || _state$items2 === void 0 ? void 0 : _state$items2.find(function (item) {\n      return item.id === id;\n    });\n  };\n\n  var getCartItemsPrice = function getCartItemsPrice() {\n    return cartItemsTotalPrice(state.items).toFixed(2);\n  };\n\n  var getCartItemsTotalPrice = function getCartItemsTotalPrice() {\n    return cartItemsTotalPrice(state.items, state.coupon).toFixed(2);\n  };\n\n  var getDiscount = function getDiscount() {\n    var _state$coupon;\n\n    var total = cartItemsTotalPrice(state.items);\n    var discount = state.coupon ? total * Number((_state$coupon = state.coupon) === null || _state$coupon === void 0 ? void 0 : _state$coupon.discountInPercent) / 100 : 0;\n    return discount.toFixed(2);\n  };\n\n  var getItemsCount = (_state$items3 = state.items) === null || _state$items3 === void 0 ? void 0 : _state$items3.reduce(function (acc, item) {\n    return acc + item.quantity;\n  }, 0);\n  return {\n    state: state,\n    getItemsCount: getItemsCount,\n    rehydrateLocalState: rehydrateLocalState,\n    addItemHandler: addItemHandler,\n    removeItemHandler: removeItemHandler,\n    clearItemFromCartHandler: clearItemFromCartHandler,\n    clearCartHandler: clearCartHandler,\n    isInCartHandler: isInCartHandler,\n    getItemHandler: getItemHandler,\n    toggleCartHandler: toggleCartHandler,\n    getCartItemsTotalPrice: getCartItemsTotalPrice,\n    getCartItemsPrice: getCartItemsPrice,\n    couponHandler: couponHandler,\n    removeCouponHandler: removeCouponHandler,\n    getDiscount: getDiscount,\n    refreshCart: refreshCart\n  };\n};\n\n_s(useCartActions, \"eanL7CPucd3H18vMQ/enxq1/NMY=\");\n\nexport var CartProvider = function CartProvider(_ref) {\n  _s2();\n\n  var _state$items5;\n\n  var children = _ref.children;\n\n  var _useCartActions = useCartActions(),\n      state = _useCartActions.state,\n      getItemsCount = _useCartActions.getItemsCount,\n      addItemHandler = _useCartActions.addItemHandler,\n      removeItemHandler = _useCartActions.removeItemHandler,\n      clearItemFromCartHandler = _useCartActions.clearItemFromCartHandler,\n      clearCartHandler = _useCartActions.clearCartHandler,\n      isInCartHandler = _useCartActions.isInCartHandler,\n      getItemHandler = _useCartActions.getItemHandler,\n      toggleCartHandler = _useCartActions.toggleCartHandler,\n      getCartItemsTotalPrice = _useCartActions.getCartItemsTotalPrice,\n      couponHandler = _useCartActions.couponHandler,\n      removeCouponHandler = _useCartActions.removeCouponHandler,\n      getCartItemsPrice = _useCartActions.getCartItemsPrice,\n      getDiscount = _useCartActions.getDiscount,\n      refreshCart = _useCartActions.refreshCart; // const { rehydrated, error } = useStorage(state, rehydrateLocalState);\n\n\n  return __jsx(CartContext.Provider, {\n    value: {\n      isOpen: state.isOpen,\n      items: state.items,\n      coupon: state.coupon,\n      cartItemsCount: function cartItemsCount() {\n        var _state$items4;\n\n        return (_state$items4 = state.items) === null || _state$items4 === void 0 ? void 0 : _state$items4.length;\n      },\n      itemsCount: getItemsCount,\n      getCartItemsCount: ((_state$items5 = state.items) === null || _state$items5 === void 0 ? void 0 : _state$items5.length) ? state.items.reduce(function (a, b) {\n        return a + b.quantity;\n      }, 0) : null,\n      addItem: addItemHandler,\n      removeItem: removeItemHandler,\n      removeItemFromCart: clearItemFromCartHandler,\n      clearCart: clearCartHandler,\n      isInCart: isInCartHandler,\n      getItem: getItemHandler,\n      toggleCart: toggleCartHandler,\n      calculatePrice: getCartItemsTotalPrice,\n      calculateSubTotalPrice: getCartItemsPrice,\n      applyCoupon: couponHandler,\n      removeCoupon: removeCouponHandler,\n      calculateDiscount: getDiscount,\n      refreshCart: refreshCart\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, children);\n};\n\n_s2(CartProvider, \"F3gshxgToUlLlSAMBLB6fpPtkYo=\", false, function () {\n  return [useCartActions];\n});\n\n_c = CartProvider;\nexport var useCart = function useCart() {\n  _s3();\n\n  return useContext(CartContext);\n};\n\n_s3(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"sources":["/Users/pipi/Documents/pr/react_apps/shop/contexts/cart/use-cart.tsx"],"names":["React","useReducer","useContext","createContext","reducer","cartItemsTotalPrice","getLocalState","CartContext","getLocalCart","INITIAL_STATE","isOpen","items","coupon","useCartActions","initialCart","state","dispatch","addItemHandler","item","quantity","type","payload","refreshCart","removeItemHandler","clearItemFromCartHandler","clearCartHandler","toggleCartHandler","couponHandler","removeCouponHandler","rehydrateLocalState","isInCartHandler","id","some","getItemHandler","find","getCartItemsPrice","toFixed","getCartItemsTotalPrice","getDiscount","total","discount","Number","discountInPercent","getItemsCount","reduce","acc","CartProvider","children","cartItemsCount","length","itemsCount","getCartItemsCount","a","b","addItem","removeItem","removeItemFromCart","clearCart","isInCart","getItem","toggleCart","calculatePrice","calculateSubTotalPrice","applyCoupon","removeCoupon","calculateDiscount","useCart"],"mappings":"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","sourcesContent":["import React, { useReducer, useContext, createContext } from 'react';\nimport { reducer, cartItemsTotalPrice } from './cart.reducer';\nimport { getLocalState } from 'helper/localStorage';\n// import { useStorage } from 'helper/use-storage';\nconst CartContext = createContext({} as any);\n\nexport const getLocalCart = ()=>getLocalState(\"cart\") ? getLocalState(\"cart\") : [];\n\n// console.log(getLocalCart())\n\nconst INITIAL_STATE = {\n  isOpen: false,\n  items: [{\"id\":\"11\",\"slug\":\"skechers-kallen-fleece-jog-pant\",\"title\":\"Skechers Kallen Fleece Jog Pant\",\"description\":\"Brown Yogi High Rise 7/8 tights from Nimble Activewear featuring a high waist, a fitted silhouette, a lightunit construction and a cropped length.\",\"Type\":{\"id\":\"3\",\"title\":\"Men\",\"slug\":\"men\",\"__typename\":\"TypesType\"},\"category\":{\"id\":\"5\",\"title\":\"Chinos\",\"slug\":\"chinos\",\"parent\":{\"id\":\"4\",\"title\":\"Pants\",\"slug\":\"pants\",\"__typename\":\"CategoryType\"},\"__typename\":\"CategoryType\"},\"unit\":null,\"price\":30,\"salePrice\":21,\"discountPercent\":30,\"createdAt\":\"2020-08-15T18:00:27.202845+00:00\",\"images\":[{\"image\":\"product_images/2443228885/2443228885.jpg\",\"__typename\":\"ProductImageNode\"},{\"image\":\"product_images/1290322913/1290322913.jpg\",\"__typename\":\"ProductImageNode\"},{\"image\":\"product_images/2581213649/2581213649.jpg\",\"__typename\":\"ProductImageNode\"}],\"__typename\":\"ProductType\",\"discountInPercent\":30,\"quantity\":1},{\"id\":\"12\",\"slug\":\"fold-over-collar-plain-blazers\",\"title\":\"Fold Over Collar Plain Blazers\",\"description\":\"Black bandhgala, has a mandarin collar, a full button placket, long sleeves, three pockets, double vented back hem, and has an attached lining\",\"Type\":{\"id\":\"3\",\"title\":\"Men\",\"slug\":\"men\",\"__typename\":\"TypesType\"},\"category\":{\"id\":\"7\",\"title\":\"Blazer\",\"slug\":\"blazer\",\"parent\":{\"id\":\"6\",\"title\":\"Outer Wear\",\"slug\":\"outer-wear\",\"__typename\":\"CategoryType\"},\"__typename\":\"CategoryType\"},\"unit\":null,\"price\":105,\"salePrice\":84,\"discountPercent\":20,\"createdAt\":\"2020-08-15T18:02:49.192265+00:00\",\"images\":[{\"image\":\"product_images/2291892958/2291892958.jpg\",\"__typename\":\"ProductImageNode\"},{\"image\":\"product_images/3558882712/3558882712.jpg\",\"__typename\":\"ProductImageNode\"},{\"image\":\"product_images/1986299311/1986299311.jpg\",\"__typename\":\"ProductImageNode\"}],\"__typename\":\"ProductType\",\"discountInPercent\":20,\"quantity\":1},{\"id\":\"14\",\"slug\":\"forever-21-solid-bodycon-midi-dress\",\"title\":\"Forever 21 Solid Bodycon Midi Dress\",\"description\":\"Grey solid woven bodycon dress, has a round neck, sleeveless, straight hem\",\"Type\":{\"id\":\"6\",\"title\":\"Women\",\"slug\":\"women\",\"__typename\":\"TypesType\"},\"category\":{\"id\":\"9\",\"title\":\"Floral\",\"slug\":\"floral\",\"parent\":{\"id\":\"8\",\"title\":\"Women Dress\",\"slug\":\"women-dress\",\"__typename\":\"CategoryType\"},\"__typename\":\"CategoryType\"},\"unit\":null,\"price\":185,\"salePrice\":null,\"discountPercent\":null,\"createdAt\":\"2020-08-15T18:06:47.720626+00:00\",\"images\":[{\"image\":\"product_images/1662630286/1662630286.jpg\",\"__typename\":\"ProductImageNode\"},{\"image\":\"product_images/831761917/831761917.jpg\",\"__typename\":\"ProductImageNode\"},{\"image\":\"product_images/3808339318/3808339318.jpg\",\"__typename\":\"ProductImageNode\"}],\"__typename\":\"ProductType\",\"discountInPercent\":null,\"quantity\":1},{\"id\":\"13\",\"slug\":\"solid-notch-lapel-single-button-long-sleeve-blazer\",\"title\":\"Solid Notch Lapel Single Button Long Sleeve Blazer\",\"description\":\"Black bandhgala, has a mandarin collar, a full button placket, long sleeves, three pockets, double vented back hem, and has an attached lining\",\"Type\":{\"id\":\"3\",\"title\":\"Men\",\"slug\":\"men\",\"__typename\":\"TypesType\"},\"category\":{\"id\":\"7\",\"title\":\"Blazer\",\"slug\":\"blazer\",\"parent\":{\"id\":\"6\",\"title\":\"Outer Wear\",\"slug\":\"outer-wear\",\"__typename\":\"CategoryType\"},\"__typename\":\"CategoryType\"},\"unit\":null,\"price\":150,\"salePrice\":null,\"discountPercent\":null,\"createdAt\":\"2020-08-15T18:04:17.316379+00:00\",\"images\":[{\"image\":\"product_images/3800015785/3800015785.jpg\",\"__typename\":\"ProductImageNode\"},{\"image\":\"product_images/164307905/164307905.jpg\",\"__typename\":\"ProductImageNode\"},{\"image\":\"product_images/1688860956/1688860956.jpg\",\"__typename\":\"ProductImageNode\"}],\"__typename\":\"ProductType\",\"discountInPercent\":null,\"quantity\":1},{\"id\":\"10\",\"slug\":\"vero-moda-coco-wide-pant\",\"title\":\"Vero Moda Coco Wide Pant\",\"description\":\"Indigo blue cotton mid rise denim shorts from Levi's featuring a waistband with belt loops, a button and zip fly, an unfinished hem and a five pocket design.\",\"Type\":{\"id\":\"3\",\"title\":\"Men\",\"slug\":\"men\",\"__typename\":\"TypesType\"},\"category\":{\"id\":\"5\",\"title\":\"Chinos\",\"slug\":\"chinos\",\"parent\":{\"id\":\"4\",\"title\":\"Pants\",\"slug\":\"pants\",\"__typename\":\"CategoryType\"},\"__typename\":\"CategoryType\"},\"unit\":null,\"price\":45,\"salePrice\":36,\"discountPercent\":20,\"createdAt\":\"2020-08-15T17:59:17.519620+00:00\",\"images\":[{\"image\":\"product_images/778758193/778758193.jpg\",\"__typename\":\"ProductImageNode\"},{\"image\":\"product_images/313453614/313453614.jpg\",\"__typename\":\"ProductImageNode\"},{\"image\":\"product_images/2271300633/2271300633.jpg\",\"__typename\":\"ProductImageNode\"}],\"__typename\":\"ProductType\",\"discountInPercent\":20,\"quantity\":1},{\"id\":\"15\",\"slug\":\"dorothy-perkins-self-striped-a-line-dress\",\"title\":\"Dorothy Perkins Self Striped A Line Dress\",\"description\":\"Rust red self-striped knitted A-line dress, has a V-neck with button detailing, three-quarter sleeves, flared hem\",\"Type\":{\"id\":\"6\",\"title\":\"Women\",\"slug\":\"women\",\"__typename\":\"TypesType\"},\"category\":{\"id\":\"10\",\"title\":\"Single Color\",\"slug\":\"single-color\",\"parent\":{\"id\":\"8\",\"title\":\"Women Dress\",\"slug\":\"women-dress\",\"__typename\":\"CategoryType\"},\"__typename\":\"CategoryType\"},\"unit\":null,\"price\":125,\"salePrice\":null,\"discountPercent\":null,\"createdAt\":\"2020-08-15T18:09:14.444349+00:00\",\"images\":[{\"image\":\"product_images/1798100657/1798100657.jpg\",\"__typename\":\"ProductImageNode\"},{\"image\":\"product_images/1247446864/1247446864.jpg\",\"__typename\":\"ProductImageNode\"},{\"image\":\"product_images/1580424752/1580424752.jpg\",\"__typename\":\"ProductImageNode\"}],\"__typename\":\"ProductType\",\"discountInPercent\":null,\"quantity\":1}],\n  coupon: null,\n};\n\nconst useCartActions = (initialCart = INITIAL_STATE) => {\n  const [state, dispatch] = useReducer(reducer, initialCart);\n\n  const addItemHandler = (item:any, quantity = 1) => {\n    dispatch({ type: 'ADD_ITEM', payload: { ...item, quantity } });\n  };\n\n  const refreshCart = ()=>dispatch({type: \"REFRESH_CART\"});\n\n  const removeItemHandler = (item:any, quantity = 1) => {\n    dispatch({ type: 'REMOVE_ITEM', payload: { ...item, quantity } });\n  };\n\n  const clearItemFromCartHandler = (item:any) => {\n    dispatch({ type: 'CLEAR_ITEM_FROM_CART', payload: item });\n  };\n\n  const clearCartHandler = () => {\n    dispatch({ type: 'CLEAR_CART' });\n  };\n  const toggleCartHandler = () => {\n    dispatch({ type: 'TOGGLE_CART' });\n  };\n  const couponHandler = (coupon:any) => {\n    dispatch({ type: 'APPLY_COUPON', payload: coupon });\n  };\n  const removeCouponHandler = () => {\n    dispatch({ type: 'REMOVE_COUPON' });\n  };\n  const rehydrateLocalState = (payload:any) => {\n    dispatch({ type: 'REHYDRATE', payload });\n  };\n  const isInCartHandler = (id:any) => {\n    return state.items?.some((item:any) => item.id === id);\n  };\n  const getItemHandler = (id:any) => {\n    return state.items?.find((item:any) => item.id === id);\n  };\n  const getCartItemsPrice = () => cartItemsTotalPrice(state.items).toFixed(2);\n  const getCartItemsTotalPrice = () =>\n    cartItemsTotalPrice(state.items, state.coupon).toFixed(2);\n\n  const getDiscount = () => {\n    const total = cartItemsTotalPrice(state.items);\n    const discount = state.coupon\n      ? (total * Number(state.coupon?.discountInPercent)) / 100\n      : 0;\n    return discount.toFixed(2);\n  };\n  const getItemsCount = state.items?.reduce(\n    (acc:any, item:any) => acc + item.quantity,\n    0\n  );\n  return {\n    state,\n    getItemsCount,\n    rehydrateLocalState,\n    addItemHandler,\n    removeItemHandler,\n    clearItemFromCartHandler,\n    clearCartHandler,\n    isInCartHandler,\n    getItemHandler,\n    toggleCartHandler,\n    getCartItemsTotalPrice,\n    getCartItemsPrice,\n    couponHandler,\n    removeCouponHandler,\n    getDiscount,\n    refreshCart,\n  };\n};\n\nexport const CartProvider = ({ children }) => {\n  const {\n    state,\n    // rehydrateLocalState,\n    getItemsCount,\n    addItemHandler,\n    removeItemHandler,\n    clearItemFromCartHandler,\n    clearCartHandler,\n    isInCartHandler,\n    getItemHandler,\n    toggleCartHandler,\n    getCartItemsTotalPrice,\n    couponHandler,\n    removeCouponHandler,\n    getCartItemsPrice,\n    getDiscount,\n    refreshCart\n  } = useCartActions();\n  // const { rehydrated, error } = useStorage(state, rehydrateLocalState);\n\n  return (\n    <CartContext.Provider\n      value={{\n        isOpen: state.isOpen,\n        items: state.items,\n        coupon: state.coupon,\n        cartItemsCount: ()=>state.items?.length,\n        itemsCount: getItemsCount,\n        getCartItemsCount: state.items?.length ? state.items.reduce((a:Number,b:any)=>a+b.quantity,0): null,\n        addItem: addItemHandler,\n        removeItem: removeItemHandler,\n        removeItemFromCart: clearItemFromCartHandler,\n        clearCart: clearCartHandler,\n        isInCart: isInCartHandler,\n        getItem: getItemHandler,\n        toggleCart: toggleCartHandler,\n        calculatePrice: getCartItemsTotalPrice,\n        calculateSubTotalPrice: getCartItemsPrice,\n        applyCoupon: couponHandler,\n        removeCoupon: removeCouponHandler,\n        calculateDiscount: getDiscount,\n        refreshCart,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport const useCart = () => useContext(CartContext);\n"]},"metadata":{},"sourceType":"module"}