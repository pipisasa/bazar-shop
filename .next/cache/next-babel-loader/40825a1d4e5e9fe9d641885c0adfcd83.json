{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/pipi/Documents/pr/react_apps/shop/components/ProductCard/ProductCard.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Image from 'components/Image/Image';\nimport Button from '../Button/Button';\nimport { CartIcon } from '../AllSvgIcon';\nimport { ProductCardWrapper, ProductImageWrapper, ProductInfo, DiscountPercent, ProductPreviewWrapper } from './ProductCard.style';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { Counter } from 'components/Counter/Counter';\nimport { cartAnimation } from 'helper/cart-animation';\nimport { useRouter } from 'next/router';\n\nvar ProductCard = function ProductCard(_ref) {\n  _s();\n\n  var title = _ref.title,\n      image = _ref.image,\n      weight = _ref.weight,\n      price = _ref.price,\n      salePrice = _ref.salePrice,\n      discountInPercent = _ref.discountInPercent,\n      cartProducts = _ref.cartProducts,\n      addToCart = _ref.addToCart,\n      updateCart = _ref.updateCart,\n      value = _ref.value,\n      currency = _ref.currency,\n      onChange = _ref.onChange,\n      increment = _ref.increment,\n      decrement = _ref.decrement,\n      data = _ref.data,\n      deviceType = _ref.deviceType,\n      onClick = _ref.onClick,\n      link = _ref.link,\n      props = _objectWithoutProperties(_ref, [\"title\", \"image\", \"weight\", \"price\", \"salePrice\", \"discountInPercent\", \"cartProducts\", \"addToCart\", \"updateCart\", \"value\", \"currency\", \"onChange\", \"increment\", \"decrement\", \"data\", \"deviceType\", \"onClick\", \"link\"]);\n\n  var _useCart = useCart(),\n      addItem = _useCart.addItem,\n      removeItem = _useCart.removeItem,\n      getItem = _useCart.getItem,\n      isInCart = _useCart.isInCart,\n      items = _useCart.items;\n\n  var handleAddClick = function handleAddClick(e) {\n    // e.stopPropagation();\n    e.preventDefault();\n    addItem(data);\n\n    if (!isInCart(data.id)) {\n      cartAnimation(e);\n    }\n  };\n\n  var handleRemoveClick = function handleRemoveClick(e) {\n    // e.stopPropagation();\n    e.preventDefault();\n    removeItem(data);\n  };\n\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var handleCLickPreview = function handleCLickPreview(e) {\n    // e.stopPropagation()\n    e.preventDefault();\n    onClick(e);\n  };\n\n  var route = useRouter();\n  return __jsx(\"a\", {\n    href: link,\n    target: \"_blank\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, __jsx(ProductCardWrapper, {\n    className: \"product-card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, __jsx(ProductImageWrapper, {\n    onClick: handleCLickPreview,\n    onMouseOver: function onMouseOver() {\n      return setIsOpen(true);\n    },\n    onMouseOut: function onMouseOut() {\n      return setIsOpen(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, __jsx(ProductPreviewWrapper, {\n    isOpen: isOpen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    size: \"small\",\n    title: \"preview\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  })), __jsx(Image, {\n    url: image,\n    media: true,\n    className: \"product-image\",\n    style: {\n      position: 'relative'\n    },\n    alt: title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }), discountInPercent ? __jsx(React.Fragment, null, __jsx(DiscountPercent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, discountInPercent, \"%\")) : ''), __jsx(ProductInfo, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, __jsx(\"h3\", {\n    className: \"product-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, title), __jsx(\"span\", {\n    className: \"product-weight\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, weight), __jsx(\"div\", {\n    className: \"product-meta\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"productPriceWrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, discountInPercent ? __jsx(\"span\", {\n    className: \"discountedPrice\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, currency, price) : '', __jsx(\"span\", {\n    className: \"product-price\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, currency, salePrice ? salePrice : price)), !isInCart(data.id) ? __jsx(Button, {\n    title: \"Cart\",\n    intlButtonId: \"addCartButton\",\n    iconPosition: \"left\",\n    colors: \"primary\",\n    size: \"small\",\n    variant: \"outlined\",\n    className: \"cart-button\",\n    icon: __jsx(CartIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 23\n      }\n    }),\n    onClick: handleAddClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }) : __jsx(Counter, {\n    value: getItem(data.id).quantity,\n    onDecrement: handleRemoveClick,\n    onIncrement: handleAddClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  })))));\n};\n\n_s(ProductCard, \"043Lm6C+WTYF2/glkflHXxtTHUQ=\", false, function () {\n  return [useCart, useRouter];\n});\n\n_c = ProductCard;\nexport default ProductCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"sources":["/Users/pipi/Documents/pr/react_apps/shop/components/ProductCard/ProductCard.tsx"],"names":["React","useState","Image","Button","CartIcon","ProductCardWrapper","ProductImageWrapper","ProductInfo","DiscountPercent","ProductPreviewWrapper","useCart","Counter","cartAnimation","useRouter","ProductCard","title","image","weight","price","salePrice","discountInPercent","cartProducts","addToCart","updateCart","value","currency","onChange","increment","decrement","data","deviceType","onClick","link","props","addItem","removeItem","getItem","isInCart","items","handleAddClick","e","preventDefault","id","handleRemoveClick","isOpen","setIsOpen","handleCLickPreview","route","position","quantity"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Image from 'components/Image/Image';\nimport Button from '../Button/Button';\nimport { CartIcon } from '../AllSvgIcon';\nimport {\n  ProductCardWrapper,\n  ProductImageWrapper,\n  ProductInfo,\n  SaleTag,\n  DiscountPercent,\n  ProductPreviewWrapper,\n} from './ProductCard.style';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { Counter } from 'components/Counter/Counter';\nimport { cartAnimation } from 'helper/cart-animation';\nimport Router, { useRouter } from 'next/router';\n\ntype ProductCardProps = {\n  title: string;\n  image: any;\n  weight: string;\n  currency: string;\n  description: string;\n  price: number;\n  salePrice?: number;\n  discountInPercent?: number;\n  data: any;\n  onClick?: (e: any) => void;\n  onChange?: (e: any) => void;\n  increment?: (e: any) => void;\n  decrement?: (e: any) => void;\n  cartProducts?: any;\n  addToCart?: any;\n  updateCart?: any;\n  value?: any;\n  deviceType?: any;\n  link: string;\n};\n\nconst ProductCard: React.FC<ProductCardProps> = ({\n  title,\n  image,\n  weight,\n  price,\n  salePrice,\n  discountInPercent,\n  cartProducts,\n  addToCart,\n  updateCart,\n  value,\n  currency,\n  onChange,\n  increment,\n  decrement,\n  data,\n  deviceType,\n  onClick,\n  link,\n  ...props\n}) => {\n  const { addItem, removeItem, getItem, isInCart, items } = useCart();\n  const handleAddClick = (e) => {\n    // e.stopPropagation();\n    e.preventDefault();\n    addItem(data);\n    if (!isInCart(data.id)) {\n      cartAnimation(e);\n    }\n  };\n  const handleRemoveClick = (e) => {\n    // e.stopPropagation();\n    e.preventDefault();\n    removeItem(data);\n  };\n  const [isOpen, setIsOpen] = useState(false);\n  const handleCLickPreview = (e)=>{\n    // e.stopPropagation()\n    e.preventDefault()\n    onClick(e);\n  }\n  const route = useRouter();\n  return (\n    <a href={link} target=\"_blank\">\n      <ProductCardWrapper className=\"product-card\">\n        <ProductImageWrapper onClick={handleCLickPreview} onMouseOver={()=>setIsOpen(true)} onMouseOut={()=>setIsOpen(false)}>\n          <ProductPreviewWrapper isOpen={isOpen}>\n            <Button size=\"small\" title=\"preview\"/>\n          </ProductPreviewWrapper>\n          <Image\n            url={image}\n            media\n            className=\"product-image\"\n            style={{ position: 'relative' }}\n            alt={title}\n          />\n          {discountInPercent ? (\n            <>\n              <DiscountPercent>{discountInPercent}%</DiscountPercent>\n            </>\n          ) : (\n            ''\n          )}\n        </ProductImageWrapper>\n        <ProductInfo>\n          <h3 className=\"product-title\">{title}</h3>\n          <span className=\"product-weight\">{weight}</span>\n          <div className=\"product-meta\">\n            <div className=\"productPriceWrapper\">\n              {discountInPercent ? (\n                <span className=\"discountedPrice\">\n                  {currency}\n                  {price}\n                </span>\n              ) : (\n                ''\n              )}\n\n              <span className=\"product-price\">\n                {currency}\n                {salePrice ? salePrice : price}\n              </span>\n            </div>\n\n            {!isInCart(data.id) ? (\n              <Button\n                title=\"Cart\"\n                intlButtonId=\"addCartButton\"\n                iconPosition=\"left\"\n                colors=\"primary\"\n                size=\"small\"\n                variant=\"outlined\"\n                className=\"cart-button\"\n                icon={<CartIcon />}\n                onClick={handleAddClick}\n              />\n            ) : (\n              <Counter\n                value={getItem(data.id).quantity}\n                onDecrement={handleRemoveClick}\n                onIncrement={handleAddClick}\n              />\n            )}\n          </div>\n        </ProductInfo>\n      </ProductCardWrapper>\n    </a>\n  );\n};\n\nexport default ProductCard;\n"]},"metadata":{},"sourceType":"module"}