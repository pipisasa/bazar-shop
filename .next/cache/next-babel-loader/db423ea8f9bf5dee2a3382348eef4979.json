{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Modal } from '@redq/reuse-modal';\nimport { withApollo } from 'helper/apollo';\nimport { SEO } from 'components/seo';\nimport Checkout from 'containers/CheckoutWithSidebar/CheckoutWithSidebar';\nimport { GET_LOGGED_IN_CUSTOMER } from 'graphql/query/customer.query';\nimport { ProfileProvider } from 'contexts/profile/profile.provider';\nimport Router from 'next/router'; // import { AuthContext } from 'contexts/auth/auth.context';\n\nimport { getLocalState } from 'helper/localStorage';\nimport { LoaderWrapper } from 'components/Loader/Loader';\n\nvar CheckoutPage = function CheckoutPage(_ref) {\n  var deviceType = _ref.deviceType;\n\n  // const {\n  //   authState: { isAuthenticated }\n  // } = React.useContext<any>(AuthContext);\n  var _useQuery = useQuery(GET_LOGGED_IN_CUSTOMER),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      loading = _useQuery.loading,\n      fetchMore = _useQuery.fetchMore; // console.log(data, error, \"checkout\")\n\n\n  if (loading) {\n    return __jsx(LoaderWrapper, null);\n  }\n\n  if (error) {\n    if (!getLocalState(\"access_token\")) {\n      Router.push('/checkout-anonimus');\n      return null;\n    }\n\n    Router.push('/logout');\n    return null;\n  }\n\n  if (error) return __jsx(\"div\", {\n    style: {\n      margin: \"150px 0 0 0\"\n    }\n  }, error.message);\n  return __jsx(React.Fragment, null, __jsx(SEO, {\n    title: \"Checkout - PickBazar\",\n    description: \"Checkout Details\"\n  }), __jsx(ProfileProvider, {\n    initData: data.me\n  }, __jsx(Modal, null, __jsx(Checkout, {\n    deviceType: deviceType\n  }))));\n};\n\nexport default withApollo(CheckoutPage);","map":null,"metadata":{},"sourceType":"module"}